{"version":3,"sources":["webpack:///./src/pages/material/Detail.tsx"],"names":["slickOpt","rows","arrows","dots","MaterialDetail","material","name","description","material_category_id","measurement_unit","price","quantity","this","checkRoute","Boolean","cartList","find","cart","id","isOnCart","event","preventDefault","addToCart","images","map","image","image_url","$route","params","getMaterial","setTimeout","$refs","materialDetailSlick","reSlick","deep","computed","methods"],"mappings":"iTAQMA,EAAW,CACbC,KAAM,EACNC,QAAQ,EACRC,MAAM,GAkBWC,EAArB,yG,0BAKY,EAAAC,SAAsB,CAC1BC,KAAM,GACNC,YAAa,GACbC,qBAAsB,GACtBC,iBAAkB,GAClBC,MAAO,EACPC,SAAU,IAXlB,qDAeI,WACIC,KAAKC,eAhBb,qBAmBI,WACID,KAAKC,eApBb,oBAuBI,WAAY,WACR,OAAOC,QAAQF,KAAKG,SAASC,MAAK,SAACC,GAAD,OAAiBA,EAAKZ,SAASa,KAAO,EAAKb,SAASa,SAxB9F,oBA2BI,WAAM,4BACF,2BAAiB,SAAjB,oBACmB,iBADnB,CAEUN,KAAKO,SAIM,KAJZ,kBAAgC,0BAAhC,gBACc,eADd,oBAEe,KAFf,MAEyB,2BAFzB,UAE6D,SAACC,GAAwBA,EAAMC,iBAAkB,EAAKC,UAAU,EAAKjB,aAFlI,qBAFT,eAOmB,gBAPnB,iBAQyB,sBARzB,eAQwDL,GARxD,IAQsE,uBARtE,WASiBY,KAAKP,SAASkB,cAT/B,aASiB,EAAsBC,KAAI,SAACC,GAAD,2BAA8BA,EAAMC,UAApC,IAAoD,EAAKrB,SAASC,aAT7G,eAWuB,6BAXvB,SAYqBM,KAAKP,SAASC,OAZnC,eAa2B,eAb3B,oBAa6DM,KAAKP,SAASE,yBAzCnF,iFAgDI,sHACUW,EADV,UACeN,KAAKe,cADpB,iBACe,EAAaC,cAD5B,aACe,EAAqBV,GADpC,SAE0BN,KAAKiB,YAAYX,GAF3C,OAEIN,KAAKP,SAFT,OAIIyB,YAAW,WAAK,QACX,YAAKC,aAAL,mBAAYC,2BAAZ,SAAyCC,YAC3C,KANP,gDAhDJ,8DAA4C,QAexC,gBADC,eAAM,SAAU,CAAEC,MAAM,K,2BAGxB,MAjBgB9B,EAAc,gBAflC,eAAU,CACP+B,SAAU,kBACH,eAAW,CACVpB,SAAU,kBAGlBqB,QAAS,iCACF,eAAW,CACVP,YAAa,0BAEd,eAAa,CACZP,UAAW,yBAIFlB,GAAA","file":"js/chunk-2d226154.ab059577.js","sourcesContent":["import { VNode } from 'vue'\r\nimport { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\r\nimport Slick from 'vue-slick'\r\n\r\nimport { iCart } from '@/interfaces/cart'\r\nimport { iImage, iMaterial } from '@/interfaces/app'\r\n\r\nconst slickOpt = {\r\n    rows: 0,\r\n    arrows: false,\r\n    dots: true\r\n}\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            cartList: 'cart/getList'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            getMaterial: 'material/getMaterial',\r\n        }),\r\n        ...mapMutations({\r\n            addToCart: 'cart/ADD_TO_CART'\r\n        })\r\n    }\r\n})\r\nexport default class MaterialDetail extends Vue {\r\n    private getMaterial!: (id: string) => iMaterial\r\n    private addToCart!: (item: iMaterial) => Promise<boolean>\r\n    private cartList!: Array<iCart>\r\n\r\n    private material: iMaterial = {\r\n        name: '',\r\n        description: '',\r\n        material_category_id: '',\r\n        measurement_unit: '',\r\n        price: 0,\r\n        quantity: ''\r\n    }\r\n\r\n    @Watch('$route', { deep: true })\r\n    routeWatcher() {\r\n        this.checkRoute()\r\n    }\r\n\r\n    mounted() {\r\n        this.checkRoute()\r\n    }\r\n\r\n    get isOnCart(): boolean {\r\n        return Boolean(this.cartList.find((cart: iCart) => cart.material.id === this.material.id))\r\n    }\r\n\r\n    render(): VNode {\r\n        return (<main id=\"main\">\r\n            <section class=\"item__section\">\r\n                {!this.isOnCart ? (<header class=\"item__section__heading\">\r\n                    <div class=\"btn__holder\">\r\n                        <a href=\"#\" class=\"btn btn__xs btn__primary\" onClick={(event: MouseEvent) => { event.preventDefault(); this.addToCart(this.material) }}>add to cart</a>\r\n                    </div>\r\n                </header>) : null}\r\n                <div class=\"item__detail\">\r\n                    <Slick class=\"item__detail__image\" options={slickOpt} ref=\"materialDetailSlick\">\r\n                        {this.material.images?.map((image: iImage) => (<img src={image.image_url} alt={this.material.name} />))}\r\n                    </Slick>\r\n                    <div class=\"item__detail__description\">\r\n                        <h2>{this.material.name}</h2>\r\n                        <div class=\"text__holder\" domPropsInnerHTML={this.material.description} />\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </main>)\r\n    }\r\n\r\n    async checkRoute() {\r\n        const id = this.$route?.params?.id\r\n        this.material = await this.getMaterial(id)\r\n\r\n        setTimeout(() => {\r\n            (this.$refs?.materialDetailSlick as any)?.reSlick()\r\n        }, 500)\r\n    }\r\n}\r\n"],"sourceRoot":""}