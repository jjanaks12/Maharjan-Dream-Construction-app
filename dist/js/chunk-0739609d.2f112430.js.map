{"version":3,"sources":["webpack:///./src/components/common/Modal.tsx","webpack:///./src/core/FormComponent.tsx","webpack:///./src/components/account/verify.tsx","webpack:///./src/components/account/ProfileForm.tsx","webpack:///./src/pages/account/Info.tsx"],"names":["Modal","props","this","value","document","body","style","overflow","event","preventDefault","$emit","stopPropagation","$scopedSlots","header","title","$slots","default","required","FormComponent","Object","keys","errors","reduce","acc","key","length","message","field","forEach","isLoading","mailSent","requestEmail","resendEmail","email","userDetail","url","location","origin","then","finally","computed","methods","isSaving","formData","address","name","phone","citizenship_back","citizenship_front","photo","id","fileHandler","formSubmit","element","target","fileList","files","fileReader","FileReader","file","readAsDataURL","onload","result","$forceUpdate","resetErrorMessage","$nextTick","hasError","save","showProfieForm","Boolean","email_verified_at","photo_url","created_at","local","format","hasCitizenship","citizenship_front_url","citizenship_back_url"],"mappings":"8LAIqBA,EAArB,wDAEI,WAAYC,GAAU,0CACZA,GAHd,mDAUI,WACQC,KAAKC,MACLC,SAASC,KAAKC,MAAMC,SAAW,SAE/BH,SAASC,KAAKC,MAAMC,SAAW,KAd3C,oBAiBI,WAAM,0BACF,sBAAmB,CAAE,OAAS,EAAM,gBAAiBL,KAAKC,OAA1D,UAA4E,SAACK,GACzEA,EAAMC,iBACN,EAAKC,MAAM,SAAS,MAFxB,gBAIe,gBAJf,UAIwC,SAACF,GACjCA,EAAMG,qBALd,CAOST,KAAKU,aAAaC,OAAlB,kBACmB,iBADnB,CAEQX,KAAKU,aAAaC,OAAO,MAE5BX,KAAKY,MAAL,kBACkB,iBADlB,SAEWZ,KAAKY,UAEZ,KAflB,eAgBmB,eAhBnB,CAiBaZ,KAAKa,OAAOC,UAjBzB,kBAmBsB,iBAnBtB,mBAoB0B,2BApB1B,UAoB8D,SAACR,GAC/CA,EAAMC,iBACN,EAAKC,MAAM,SAAS,MAtBpC,qBAlBR,GAAmC,QAML,gBAAzB,eAAK,CAAEO,UAAU,K,4BACO,gBAAxB,eAAK,CAAED,QAAS,Q,4BAGjB,gBADC,eAAM,U,2BAMN,MAfgBhB,EAAK,gBADzB,QACoBA,GAAA,U,sICCAkB,EAArB,wKAkBI,WAAY,WACR,OAAOC,OAAOC,KAAKlB,KAAKmB,QAAQC,QAAO,SAACC,EAAcC,GAClD,OAAOD,GAAO,EAAKF,OAAOG,GAAKC,OAAS,KACzC,KArBX,wBAwBI,WACI,IAAIC,EAAkB,GAEtB,IAAK,IAAMC,KAASzB,KAAKmB,OACrB,GAAInB,KAAKmB,OAAOM,GAAOF,OAAS,EAE5B,OADAC,EAAUxB,KAAKmB,OAAOM,GAAO,GACtBD,EAGf,OAAOA,IAjCf,+BAoCc,WAAiB,WAEvBP,OAAOC,KAAKlB,KAAKmB,QAAQO,SAAQ,SAACJ,GAC9B,EAAKH,OAAOG,GAAO,UAvC/B,GAA2C,QAAtBN,EAAa,gBADjC,QACoBA,GAAA,U,8KCaA,G,UAArB,wDAMI,WAAYjB,GAAU,oCAClB,cAAMA,GALF,EAAA4B,WAAqB,EACrB,EAAAC,UAAoB,EAGN,EAN1B,6CAcI,WAAM,mBACF,sBAAmB,cAAnB,CACK5B,KAAK4B,SAAW,CAAC,EAAD,qFAGX5B,KAAK2B,UAGP,CAAC,EAAD,YACU,MADV,+EAHmB,CAAC,EAAD,YACT,MADS,0GAE8B,KAF9B,UAE2C3B,KAAK6B,eAFhD,4BAnBnC,0BA6BI,SAAavB,GAAiB,WAC1BA,EAAMC,iBACNP,KAAK2B,WAAY,EAEjB3B,KAAK8B,YAAY,CACbC,MAAO/B,KAAKgC,WAAWD,MACvBE,IAAKC,SAASC,OAAS,kBAEtBC,MAAK,WACF,EAAKR,UAAW,KAEnBS,SAAQ,WACL,EAAKV,WAAY,SAzCjC,GAAyC,SAApB,EAAW,gBAZ/B,eAAU,CACPW,SAAU,kBACH,eAAW,CACVN,WAAY,0BAGpBO,QAAS,kBACF,eAAW,CACVT,YAAa,yBAIJ,W,iCCaA,EAArB,wDAWI,WAAY/B,GAAU,oCAClB,cAAMA,GAVF,EAAAyC,UAAoB,EAEpB,EAAAC,SAAoB,CACxBC,QAAS,GACTX,MAAO,GACPY,KAAM,GACNC,MAAO,IAMP,EAAKzB,OAAS,CACVuB,QAAS,GACTX,MAAO,GACPY,KAAM,GACNC,MAAO,GACPC,iBAAkB,GAClBC,kBAAmB,GACnBC,MAAO,IAVO,EAX1B,8CAyBI,WACI/C,KAAKyC,SAAW,CACZO,GAAIhD,KAAKgC,WAAWgB,GACpBN,QAAS1C,KAAKgC,WAAWU,QACzBX,MAAO/B,KAAKgC,WAAWD,MACvBY,KAAM3C,KAAKgC,WAAWW,KACtBC,MAAO5C,KAAKgC,WAAWY,SA/BnC,+BAoCI,WACI5C,KAAKyC,SAAW,CACZO,GAAIhD,KAAKgC,WAAWgB,GACpBN,QAAS1C,KAAKgC,WAAWU,QACzBX,MAAO/B,KAAKgC,WAAWD,MACvBY,KAAM3C,KAAKgC,WAAWW,KACtBC,MAAO5C,KAAKgC,WAAWY,SA1CnC,oBA8CI,WAAM,0BACF,sBAAmB,iBAAnB,gBACe,UADf,CAES5C,KAAKyC,SAASM,OAAS/C,KAAKyC,SAASM,MAAMxB,OAAS,EAApD,oBAAkEvB,KAAKyC,SAASM,MAAM,GAAtF,IAA+F/C,KAAKyC,SAASE,QAA7G,gBAAoI,cAF7I,iBAGqB,wBAHrB,wBAIwB,OAJxB,OAIsC,WAJtC,WAI0D,SAACrC,GAAmB,EAAK2C,YAAY3C,EAAO,aAJtG,gBAKwB,2BALxB,gDAQiB,IARjB,OAQ4B,OAR5B,0BAQwDN,KAAKkD,aAR7D,gBASmB,eATnB,uBAUuB,SAVvB,2EAWqF,EAAKT,SAX1F,qCAWwB,OAXxB,KAWoC,OAXpC,GAW8C,OAX9C,YAWiE,YAXjE,gBAWqF,EAAKA,SAASE,OAXnG,iCAWqF,EAAKF,SAASE,KAXnG,oCAamB,eAbnB,uBAcuB,YAdvB,8EAe0F,EAAKF,SAf/F,wCAewB,OAfxB,KAeoC,UAfpC,GAeiD,UAfjD,YAeuE,WAfvE,gBAe0F,EAAKA,SAASC,UAfxG,iCAe0F,EAAKD,SAASC,QAfxG,oCAiBmB,eAjBnB,uBAkBuB,UAlBvB,4EAmBoF,EAAKD,SAnBzF,sCAmBwB,OAnBxB,KAmBoC,QAnBpC,GAmB+C,QAnB/C,YAmBmE,SAnBnE,gBAmBoF,EAAKA,SAASG,QAnBlG,iCAmBoF,EAAKH,SAASG,MAnBlG,oCAqBmB,eArBnB,gDAuBuB,SAvBvB,kBAwB6B,wBAxB7B,wBAyBgC,OAzBhC,OAyB8C,WAzB9C,WAyBkE,SAACtC,GAAmB,EAAK2C,YAAY3C,EAAO,yBACzFN,KAAKyC,SAASK,mBAAqB9C,KAAKyC,SAASK,kBAAkBvB,OAAS,EAA5E,oBAA0FvB,KAAKyC,SAASK,kBAAkB,GAA1H,IAAmI9C,KAAKyC,SAASE,QAAjJ,gBAAwK,QAAxK,gCA1BrB,iBA4B6B,wBA5B7B,wBA6BgC,OA7BhC,OA6B8C,WA7B9C,WA6BkE,SAACrC,GAAmB,EAAK2C,YAAY3C,EAAO,wBACzFN,KAAKyC,SAASI,kBAAoB7C,KAAKyC,SAASI,iBAAiBtB,OAAS,EAA1E,oBAAwFvB,KAAKyC,SAASI,iBAAiB,GAAvH,IAAgI7C,KAAKyC,SAASE,QAA9I,gBAAqK,QAArK,mCA9BrB,eAkCmB,eAlCnB,yBAmCyB,UAnCzB,MAmCwC,oBAnCxC,CAoCiB3C,KAAKwC,SAAL,gBAA6B,yBAAkC,KApChF,iBA/CR,yBA+FI,SAAYlC,EAAcmB,GAAa,WAC7B0B,EAAU7C,EAAM8C,OAChBC,EAA4BF,EAAQG,MAE1C,GAAID,EAAU,CACV,IAAME,EAAyB,IAAIC,WAC7BC,EAAOJ,EAAS,GAElBI,IACAF,EAAWG,cAAcD,GACzBF,EAAWI,OAAS,WACZJ,EAAWK,SACN,EAAKnB,SAAShB,KACf,EAAKgB,SAAShB,GAAS,IAE3B,EAAKgB,SAAShB,GAAO,GAAM8B,EAAWK,OACtC,EAAKC,qBA/G7B,wBAuHI,SAAWvD,GAAsB,WAC7BA,EAAMC,iBACNP,KAAK8D,oBAEL9D,KAAK+D,WAAU,WACN,EAAKC,WACN,EAAKxB,UAAW,EAEhB,EAAKyB,KAAK,EAAKxB,UACVL,MAAK,WACF,EAAK5B,MAAM,SACX,EAAKsD,uBAERzB,SAAQ,WACL,EAAKG,UAAW,aArIxC,GAAyCxB,EAAA,MAoCrC,gBADC,eAAM,e,gCASN,MA5CgB,EAAW,gBAZ/B,eAAU,CACPsB,SAAU,kBACH,eAAW,CACVN,WAAY,0BAGpBO,QAAS,kBACF,eAAW,CACV0B,KAAM,kBAIG,W,YCdA,EAArB,yG,0BAEY,EAAAC,gBAA0B,EAFtC,qDAII,WACI,OAAOC,QAAQnE,KAAKgC,WAAWc,mBAAqB9C,KAAKgC,WAAWa,oBAL5E,oBAWI,WAAM,0BACF,2BAAiB,SAAjB,oBACmB,iBADnB,CAEU7C,KAAKgC,WAAWoC,kBAAsC,KAAvD,KAFT,kBAGsB,0BAHtB,eAIsB,MAJtB,CAI4BpE,KAAKgC,WAAWW,OAJ5C,mBAKoB,KALpB,MAK8B,gBAL9B,UAKuD,SAACrC,GACxCA,EAAMC,iBACN,EAAK2D,gBAAiB,KAPtC,2BAUmB,eAVnB,CAWalE,KAAKgC,WAAWe,MAAhB,oBAAkC/C,KAAKgC,WAAWqC,UAAlD,IAAkErE,KAAKgC,WAAWW,QAAlF,gBAAyG,gBAXtH,cAakB,gBAblB,2BAeiB3C,KAAKgC,WAAWD,QAfjC,4BAiBiB/B,KAAKgC,WAAWU,UAjBjC,0BAmBiB1C,KAAKgC,WAAWY,QAnBjC,uDAqB6B,CAAE,SAAY5C,KAAKgC,WAAWoC,oBArB3D,CAqBiFpE,KAAKgC,WAAWoC,kBAAoB,WAAa,mBArBlI,2DAuBgC,IAAOpE,KAAKgC,WAAWsC,YAAYC,QAAQC,OAAO,yBAvBlF,CAuB2G,IAAOxE,KAAKgC,WAAWsC,YAAYC,QAAQC,OAAO,8BAChJxE,KAAKyE,eAAiB,CAAC,EAAD,uEAGR,eAHQ,CAIdzE,KAAKgC,WAAWc,kBAAhB,eAAgD,iBAAhD,qBACa9C,KAAKgC,WAAW0C,sBAD7B,IACyD1E,KAAKgC,WAAWW,KAAO,0BACvE,KACT3C,KAAKgC,WAAWa,iBAAhB,eAA+C,iBAA/C,qBACa7C,KAAKgC,WAAW2C,qBAD7B,IACwD3E,KAAKgC,WAAWW,KAAO,yBACtE,UAET,SAnCrB,uBAsCoB,EAAKuB,eAtCzB,qBAsCoB,EAAKA,eAtCzB,qBAuC8B,kBAAM,EAAKA,gBAAiB,cAnDlE,GAAyC,QAApB,EAAW,gBAP/B,eAAU,CACP5B,SAAU,kBACH,eAAW,CACVN,WAAY,6BAIH","file":"js/chunk-0739609d.2f112430.js","sourcesContent":["import { VNode } from \"vue\"\r\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\"\r\n\r\n@Component\r\nexport default class Modal extends Vue {\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n    }\r\n\r\n    @Prop({ required: true }) value!: boolean\r\n    @Prop({ default: null }) title!: string | null\r\n\r\n    @Watch('value')\r\n    valueChanged() {\r\n        if (this.value)\r\n            document.body.style.overflow = 'hidden'\r\n        else\r\n            document.body.style.overflow = ''\r\n    }\r\n\r\n    render(): VNode {\r\n        return <div class={{ \"modal\": true, \"modal--active\": this.value }} onClick={(event: MouseEvent) => {\r\n            event.preventDefault()\r\n            this.$emit('input', false)\r\n        }}>\r\n            <div class=\"modal__holder\" onClick={(event: MouseEvent) => {\r\n                event.stopPropagation()\r\n            }}>\r\n                {this.$scopedSlots.header\r\n                    ? <header class=\"modal__header\">\r\n                        {this.$scopedSlots.header({})}\r\n                    </header>\r\n                    : this.title\r\n                        ? <header class=\"modal__header\">\r\n                            <h2>{this.title}</h2>\r\n                        </header>\r\n                        : null}\r\n                <div class=\"modal__body\">\r\n                    {this.$slots.default}\r\n                </div>\r\n                <footer class=\"modal__footer\">\r\n                    <button class=\"btn btn__default btn__xs\" onClick={(event: MouseEvent) => {\r\n                        event.preventDefault()\r\n                        this.$emit('input', false)\r\n                    }}>close</button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import { iErrorMessage } from '@/interfaces/auth'\r\nimport { Component, Vue } from 'vue-property-decorator'\r\n\r\n// let timer: any\r\n@Component\r\nexport default class FormComponent extends Vue {\r\n    protected errors!: iErrorMessage\r\n\r\n    // @Watch('errors', { deep: true })\r\n    // errorWatcher() {\r\n    //     if (timer)\r\n    //         return\r\n\r\n    //     timer = setTimeout(() => {\r\n    //         this.resetErrorMessage()\r\n    //     }, 7000)\r\n    // }\r\n\r\n    /**\r\n    * Checks if there are any errors\r\n    * \r\n    * @returns boolean\r\n    */\r\n    get hasError(): boolean {\r\n        return Object.keys(this.errors).reduce((acc: boolean, key: string): boolean => {\r\n            return acc || this.errors[key].length > 0\r\n        }, false)\r\n    }\r\n\r\n    get errorMessage(): string {\r\n        let message: string = ''\r\n\r\n        for (const field in this.errors) {\r\n            if (this.errors[field].length > 0) {\r\n                message = this.errors[field][0]\r\n                return message\r\n            }\r\n        }\r\n        return message\r\n    }\r\n\r\n    protected resetErrorMessage(): void {\r\n\r\n        Object.keys(this.errors).forEach((key: string) => {\r\n            this.errors[key] = []\r\n        })\r\n    }\r\n}\r\n","import { VNode } from 'vue'\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nimport { iUserDetail, resedEmail } from '@/interfaces/auth'\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            userDetail: 'root/getLoggedinUser'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            resendEmail: 'root/resendEmail'\r\n        })\r\n    }\r\n})\r\nexport default class EmailVerify extends Vue {\r\n    private userDetail!: iUserDetail\r\n    private isLoading: boolean = false\r\n    private mailSent: boolean = false\r\n    private resendEmail!: (formData: resedEmail) => Promise<boolean>\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n    }\r\n\r\n    /** \r\n     * \r\n     * @returns VNode\r\n     */\r\n    render(): VNode {\r\n        return (<div class=\"meta__info\">\r\n            {this.mailSent ? [\r\n                <h3>We have sent you a mail</h3>,\r\n                <p>Please check your inbox and verify it.</p>\r\n            ] : (!this.isLoading ? [\r\n                <h3 class=\"h4\">Your account hasn't been verified</h3>,\r\n                <p>If you did not get verification mail. <a href=\"#\" onClick={this.requestEmail}>Want to resend?</a></p>\r\n            ] : [\r\n                <h3 class=\"h4\">We are sending mail.</h3>,\r\n                <p>Just a minute please. We will be done...</p>\r\n            ])}\r\n        </div>)\r\n    }\r\n\r\n    requestEmail(event: MouseEvent) {\r\n        event.preventDefault()\r\n        this.isLoading = true\r\n\r\n        this.resendEmail({\r\n            email: this.userDetail.email,\r\n            url: location.origin + '/verification'\r\n        })\r\n            .then(() => {\r\n                this.mailSent = true\r\n            })\r\n            .finally(() => {\r\n                this.isLoading = false\r\n            })\r\n    }\r\n}\r\n","import { VNode } from \"vue\"\r\nimport { Component, Watch } from \"vue-property-decorator\"\r\nimport { mapActions, mapGetters } from \"vuex\"\r\n\r\nimport FormComponent from \"@/core/FormComponent\"\r\nimport { iUserDetail } from \"@/interfaces/auth\"\r\n\r\ninterface profile {\r\n    id?: string,\r\n    address: string,\r\n    email: string,\r\n    name: string,\r\n    phone: string,\r\n    photo?: Array<string>,\r\n    citizenship_back?: Array<string>,\r\n    citizenship_front?: Array<string>,\r\n    [propName: string]: any\r\n}\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            userDetail: 'root/getLoggedinUser'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            save: 'root/save'\r\n        })\r\n    }\r\n})\r\nexport default class ProfileForm extends FormComponent {\r\n    private userDetail!: iUserDetail\r\n    private isSaving: boolean = false\r\n    private save!: (formData: profile) => Promise<boolean>\r\n    private formData: profile = {\r\n        address: '',\r\n        email: '',\r\n        name: '',\r\n        phone: '',\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n\r\n        this.errors = {\r\n            address: [],\r\n            email: [],\r\n            name: [],\r\n            phone: [],\r\n            citizenship_back: [],\r\n            citizenship_front: [],\r\n            photo: []\r\n        }\r\n    }\r\n\r\n    mounted() {\r\n        this.formData = {\r\n            id: this.userDetail.id,\r\n            address: this.userDetail.address,\r\n            email: this.userDetail.email,\r\n            name: this.userDetail.name,\r\n            phone: this.userDetail.phone,\r\n        }\r\n    }\r\n\r\n    @Watch('userDetail')\r\n    userDetailChanged() {\r\n        this.formData = {\r\n            id: this.userDetail.id,\r\n            address: this.userDetail.address,\r\n            email: this.userDetail.email,\r\n            name: this.userDetail.name,\r\n            phone: this.userDetail.phone,\r\n        }\r\n    }\r\n\r\n    render(): VNode {\r\n        return (<div class=\"account__form\">\r\n            <div class=\"avatar\">\r\n                {this.formData.photo && this.formData.photo.length > 0 ? <img src={this.formData.photo[0]} alt={this.formData.name} /> : <span class=\"icon-user\" />}\r\n                <label class=\"custom__file__upload\">\r\n                    <input type=\"file\" accept=\"*/image\" onChange={(event: Event) => { this.fileHandler(event, 'photo') }} />\r\n                    <span class=\"btn btn__danger btn__xs\">Select a Photo</span>\r\n                </label>\r\n            </div>\r\n            <form action=\"#\" method=\"POST\" novalidate onSubmit={this.formSubmit}>\r\n                <div class=\"form__group\">\r\n                    <label for=\"name\">Name</label>\r\n                    <input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Fullname\" v-model={this.formData.name} />\r\n                </div>\r\n                <div class=\"form__group\">\r\n                    <label for=\"address\">Address</label>\r\n                    <input type=\"text\" name=\"address\" id=\"address\" placeholder=\"Address\" v-model={this.formData.address} />\r\n                </div>\r\n                <div class=\"form__group\">\r\n                    <label for=\"phone\">Phone</label>\r\n                    <input type=\"text\" name=\"phone\" id=\"phone\" placeholder=\"Phone\" v-model={this.formData.phone} />\r\n                </div>\r\n                <div class=\"form__group\">\r\n                    <strong>Other Documents</strong>\r\n                    <div class=\"files\">\r\n                        <label class=\"custom__file__upload\">\r\n                            <input type=\"file\" accept=\"*/image\" onChange={(event: Event) => { this.fileHandler(event, 'citizenship_front') }} />\r\n                            {this.formData.citizenship_front && this.formData.citizenship_front.length > 0 ? <img src={this.formData.citizenship_front[0]} alt={this.formData.name} /> : <span class=\"text\">Upload citizenship front</span>}\r\n                        </label>\r\n                        <label class=\"custom__file__upload\">\r\n                            <input type=\"file\" accept=\"*/image\" onChange={(event: Event) => { this.fileHandler(event, 'citizenship_back') }} />\r\n                            {this.formData.citizenship_back && this.formData.citizenship_back.length > 0 ? <img src={this.formData.citizenship_back[0]} alt={this.formData.name} /> : <span class=\"text\">Upload citizenship back</span>}\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"btn__holder\">\r\n                    <button type=\"submit\" class=\"btn btn__primary\">\r\n                        {this.isSaving ? (<span class=\"icon-spinner loading\"></span>) : null}\r\n                        Save</button>\r\n                </div>\r\n            </form>\r\n        </div>)\r\n    }\r\n\r\n    /**\r\n     * for file uploading and conveting images to base64 format\r\n     * @param event \r\n     * @returns void\r\n     */\r\n    fileHandler(event: Event, field: string): void {\r\n        const element = event.target as HTMLInputElement\r\n        const fileList: FileList | null = element.files\r\n\r\n        if (fileList) {\r\n            const fileReader: FileReader = new FileReader()\r\n            const file = fileList[0]\r\n\r\n            if (file) {\r\n                fileReader.readAsDataURL(file)\r\n                fileReader.onload = () => {\r\n                    if (fileReader.result) {\r\n                        if (!this.formData[field])\r\n                            this.formData[field] = []\r\n\r\n                        this.formData[field][0] = (fileReader.result as string)\r\n                        this.$forceUpdate()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    formSubmit(event: HTMLFormElement): void {\r\n        event.preventDefault()\r\n        this.resetErrorMessage()\r\n\r\n        this.$nextTick(() => {\r\n            if (!this.hasError) {\r\n                this.isSaving = true\r\n\r\n                this.save(this.formData)\r\n                    .then(() => {\r\n                        this.$emit('close')\r\n                        this.resetErrorMessage()\r\n                    })\r\n                    .finally(() => {\r\n                        this.isSaving = false\r\n                    })\r\n            }\r\n        })\r\n    }\r\n}","import { VNode } from 'vue'\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { mapGetters } from 'vuex'\r\nimport moment from 'moment'\r\n\r\nimport { iUserDetail } from '@/interfaces/auth'\r\nimport EmailVerify from '@/components/account/verify'\r\nimport ProfileForm from '@/components/account/ProfileForm'\r\nimport Modal from '@/components/common/Modal'\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            userDetail: 'root/getLoggedinUser'\r\n        })\r\n    }\r\n})\r\nexport default class AccountInfo extends Vue {\r\n    private userDetail!: iUserDetail\r\n    private showProfieForm: boolean = false\r\n\r\n    get hasCitizenship(): boolean {\r\n        return Boolean(this.userDetail.citizenship_front || this.userDetail.citizenship_back)\r\n    }\r\n\r\n    /**\r\n     * @returns VNode\r\n     */\r\n    render(): VNode {\r\n        return (<main id=\"main\">\r\n            <section class=\"item__section\">\r\n                {!this.userDetail.email_verified_at ? <EmailVerify /> : null}\r\n                <header class=\"item__section__heading\">\r\n                    <h2 class=\"h3\">{this.userDetail.name}</h2>\r\n                    <a href=\"#\" class=\"text--primary\" onClick={(event: MouseEvent) => {\r\n                        event.preventDefault()\r\n                        this.showProfieForm = true\r\n                    }}>edit</a>\r\n                </header>\r\n                <div class=\"user__image\">\r\n                    {this.userDetail.photo ? <img src={this.userDetail.photo_url} alt={this.userDetail.name} /> : <span class=\"icon-user\" />}\r\n                </div>\r\n                <dl class=\"user__detail\">\r\n                    <dt>Email</dt>\r\n                    <dd>{this.userDetail.email}</dd>\r\n                    <dt>Address</dt>\r\n                    <dd>{this.userDetail.address}</dd>\r\n                    <dt>Phone</dt>\r\n                    <dd>{this.userDetail.phone}</dd>\r\n                    <dt>Email Verification</dt>\r\n                    <dd><span class={{ 'verified': this.userDetail.email_verified_at }}>{this.userDetail.email_verified_at ? \"verified\" : \"not verified\"}</span></dd>\r\n                    <dt>Date of Join</dt>\r\n                    <dd><time datetime={moment(this.userDetail.created_at).local().format('YYYY-MM-DD HH:mm:ss')}>{moment(this.userDetail.created_at).local().format('Do [of] MMMM [in] YYYY')}</time></dd>\r\n                    {this.hasCitizenship ? [<dt>Documents</dt>,\r\n                    <dd>\r\n                        <strong>Citizenship</strong>\r\n                        <div class=\"image__list\">\r\n                            {this.userDetail.citizenship_front ? (<div class=\"image__holder\">\r\n                                <img src={this.userDetail.citizenship_front_url} alt={this.userDetail.name + \"_citizenship_front\"} />\r\n                            </div>) : null}\r\n                            {this.userDetail.citizenship_back ? (<div class=\"image__holder\">\r\n                                <img src={this.userDetail.citizenship_back_url} alt={this.userDetail.name + \"_citizenship_back\"} />\r\n                            </div>) : null}\r\n                        </div>\r\n                    </dd>] : null}\r\n                </dl>\r\n            </section>\r\n            <Modal v-model={this.showProfieForm}>\r\n                <ProfileForm onClose={() => this.showProfieForm = false} />\r\n            </Modal>\r\n        </main>)\r\n    }\r\n}\r\n"],"sourceRoot":""}