(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea819e4c"],{"17b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i,r,n=a("1547");(function(e){e["Documents"]="DOCUMENTS",e["Data"]="DATA",e["Library"]="LIBRARY",e["Cache"]="CACHE",e["External"]="EXTERNAL",e["ExternalStorage"]="EXTERNAL_STORAGE"})(i||(i={})),function(e){e["UTF8"]="utf8",e["ASCII"]="ascii",e["UTF16"]="utf16"}(r||(r={}));const s=Object(n["d"])("Filesystem",{web:()=>a.e("chunk-2d0a4885").then(a.bind(null,"079a")).then(e=>new e.FilesystemWeb)})},"1dfe":function(e,t,a){"use strict";var i=a("d4ec"),r=a("bee2"),n=a("262e"),s=a("2caf"),o=a("9ab4"),c=a("1b40"),u=function(e){Object(n["a"])(a,e);var t=Object(s["a"])(a);function a(e){return Object(i["a"])(this,a),t.call(this,e)}return Object(r["a"])(a,[{key:"valueChanged",value:function(){this.value?document.body.style.overflow="hidden":document.body.style.overflow=""}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:{modal:!0,"modal--active":this.value},on:{click:function(t){t.preventDefault(),e.$emit("input",!1)}}},[t("div",{class:"modal__holder",on:{click:function(e){e.stopPropagation()}}},[this.$scopedSlots.header?t("header",{class:"modal__header"},[this.$scopedSlots.header({})]):this.title?t("header",{class:"modal__header"},[t("h2",[this.title])]):null,t("div",{class:"modal__body"},[this.$slots.default]),t("footer",{class:"modal__footer"},[t("button",{class:"btn btn__default btn__xs",on:{click:function(t){t.preventDefault(),e.$emit("input",!1)}}},["close"])])])])}}]),a}(c["c"]);Object(o["a"])([Object(c["b"])({required:!0})],u.prototype,"value",void 0),Object(o["a"])([Object(c["b"])({default:null})],u.prototype,"title",void 0),Object(o["a"])([Object(c["d"])("value")],u.prototype,"valueChanged",null),u=Object(o["a"])([c["a"]],u),t["a"]=u},7531:function(e,t,a){"use strict";var i,r,n;a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),function(e){e["Prompt"]="PROMPT",e["Camera"]="CAMERA",e["Photos"]="PHOTOS"}(i||(i={})),function(e){e["Rear"]="REAR",e["Front"]="FRONT"}(r||(r={})),function(e){e["Uri"]="uri",e["Base64"]="base64",e["DataUrl"]="dataUrl"}(n||(n={}))},"7f7e":function(e,t,a){"use strict";var i=a("d4ec"),r=a("bee2"),n=a("262e"),s=a("2caf"),o=(a("d3b7"),a("b64b"),a("159b"),a("9ab4")),c=a("1b40"),u=function(e){Object(n["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a,[{key:"hasError",get:function(){var e=this;return Object.keys(this.errors).reduce((function(t,a){return t||e.errors[a].length>0}),!1)}},{key:"errorMessage",get:function(){var e="";for(var t in this.errors)if(this.errors[t].length>0)return e=this.errors[t][0],e;return e}},{key:"resetErrorMessage",value:function(){var e=this;Object.keys(this.errors).forEach((function(t){e.errors[t]=[]}))}}]),a}(c["c"]);u=Object(o["a"])([c["a"]],u),t["a"]=u},c4bc:function(e,t,a){"use strict";a.r(t);var i=a("5530"),r=a("d4ec"),n=a("bee2"),s=a("262e"),o=a("2caf"),c=(a("b0c0"),a("9ab4")),u=a("1b40"),l=a("2f62"),h=a("c1df"),d=a.n(h),f=(a("d3b7"),function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(e){var i;return Object(r["a"])(this,a),i=t.call(this,e),i.isLoading=!1,i.mailSent=!1,i}return Object(n["a"])(a,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"meta__info"},[this.mailSent?[e("h3",["We have sent you a mail"]),e("p",["Please check your inbox and verify it."])]:this.isLoading?[e("h3",{class:"h4"},["We are sending mail."]),e("p",["Just a minute please. We will be done..."])]:[e("h3",{class:"h4"},["Your account hasn't been verified"]),e("p",["If you did not get verification mail. ",e("a",{attrs:{href:"#"},on:{click:this.requestEmail}},["Want to resend?"])])]])}},{key:"requestEmail",value:function(e){var t=this;e.preventDefault(),this.isLoading=!0,this.resendEmail({email:this.userDetail.email,url:location.origin+"/verification"}).then((function(){t.mailSent=!0})).finally((function(){t.isLoading=!1}))}}]),a}(u["c"]));f=Object(c["a"])([Object(u["a"])({computed:Object(i["a"])({},Object(l["c"])({userDetail:"root/getLoggedinUser"})),methods:Object(i["a"])({},Object(l["b"])({resendEmail:"root/resendEmail"}))})],f);var m=f,b=a("1da1"),p=a("2638"),v=a.n(p),D=(a("96cf"),a("caad"),a("fecd")),_=a("1547"),g=a("17b6"),O=a("7f7e"),j=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(e){var i;return Object(r["a"])(this,a),i=t.call(this,e),i.isSaving=!1,i.formData={address:"",email:"",name:"",phone:""},i.errors={address:[],email:[],name:[],phone:[],citizenship_back:[],citizenship_front:[],photo:[]},i}return Object(n["a"])(a,[{key:"mounted",value:function(){this.formData={id:this.userDetail.id,address:this.userDetail.address,email:this.userDetail.email,name:this.userDetail.name,phone:this.userDetail.phone}}},{key:"userDetailChanged",value:function(){this.formData={id:this.userDetail.id,address:this.userDetail.address,email:this.userDetail.email,name:this.userDetail.name,phone:this.userDetail.phone}}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"account__form"},[t("div",{class:"avatar"},[this.formData.photo&&this.formData.photo.length>0?t("img",{attrs:{src:this.formData.photo[0],alt:this.formData.name}}):t("span",{class:"icon-user"}),t("button",{class:"btn btn__danger btn__xs",attrs:{type:"button"},on:{click:function(){e.selectPhoto("photo")}}},["Select a Photo"])]),t("form",{attrs:{action:"#",method:"POST",novalidate:!0},on:{submit:this.formSubmit}},[t("div",{class:"form__group"},[t("label",{attrs:{for:"name"}},["Name"]),t("input",v()([{on:{input:function(t){t.target.composing||e.$set(e.formData,"name",t.target.value)}},attrs:{type:"text",name:"name",id:"name",placeholder:"Fullname"},domProps:{value:e.formData.name}},{directives:[{name:"model",value:e.formData.name,modifiers:{}}]}]))]),t("div",{class:"form__group"},[t("label",{attrs:{for:"address"}},["Address"]),t("input",v()([{on:{input:function(t){t.target.composing||e.$set(e.formData,"address",t.target.value)}},attrs:{type:"text",name:"address",id:"address",placeholder:"Address"},domProps:{value:e.formData.address}},{directives:[{name:"model",value:e.formData.address,modifiers:{}}]}]))]),t("div",{class:"form__group"},[t("label",{attrs:{for:"phone"}},["Phone"]),t("input",v()([{on:{input:function(t){t.target.composing||e.$set(e.formData,"phone",t.target.value)}},attrs:{type:"text",name:"phone",id:"phone",placeholder:"Phone"},domProps:{value:e.formData.phone}},{directives:[{name:"model",value:e.formData.phone,modifiers:{}}]}]))]),t("div",{class:"form__group"},[t("strong",["Other Documents"]),t("div",{class:"files"},[t("button",{attrs:{type:"button"},on:{click:function(){e.selectPhoto("citizenship_front")}}},[this.formData.citizenship_front&&this.formData.citizenship_front.length>0?t("img",{attrs:{src:this.formData.citizenship_front[0],alt:this.formData.name}}):t("span",{class:"text"},["Upload citizenship front"])]),t("button",{attrs:{type:"button"},on:{click:function(){e.selectPhoto("citizenship_back")}}},[this.formData.citizenship_back&&this.formData.citizenship_back.length>0?t("img",{attrs:{src:this.formData.citizenship_back[0],alt:this.formData.name}}):t("span",{class:"text"},["Upload citizenship back"])])])]),t("div",{class:"btn__holder"},[t("button",{attrs:{type:"submit"},class:"btn btn__primary"},[this.isSaving?t("span",{class:"icon-spinner loading"}):null,"Save"])])])])}},{key:"formSubmit",value:function(e){var t=this;e.preventDefault(),this.resetErrorMessage(),this.$nextTick((function(){t.hasError||(t.isSaving=!0,t.save(t.formData).then((function(){t.$emit("close"),t.resetErrorMessage()})).catch((function(e){console.log(e)})).finally((function(){t.isSaving=!1})))}))}},{key:"selectPhoto",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D["a"].getPhoto({quality:90,allowEditing:!0,resultType:D["b"].Uri,source:D["c"].Photos});case 2:a=e.sent,this.saveImage(a,t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveImage",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readAsBase64(t);case 2:i=e.sent,this.formData[a]||(this.formData[a]=[]),this.formData[a][0]=i,this.$forceUpdate();case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"readAsBase64",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!["ios","android"].includes(_["a"].getPlatform())){e.next=8;break}if(!t.path){e.next=6;break}return e.next=4,g["b"].readFile({path:t.path});case 4:return a=e.sent,e.abrupt("return","data:image/jpeg;base64,"+a.data);case 6:e.next=18;break;case 8:if(!t.webPath){e.next=18;break}return e.next=11,fetch(t.webPath);case 11:return i=e.sent,e.next=14,i.blob();case 14:return r=e.sent,e.next=17,this.convertBlobToBase64(r);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"convertBlobToBase64",value:function(e){return new Promise((function(t,a){var i=new FileReader;i.onerror=a,i.onload=function(){t(i.result)},i.readAsDataURL(e)}))}}]),a}(O["a"]);Object(c["a"])([Object(u["d"])("userDetail")],j.prototype,"userDetailChanged",null),j=Object(c["a"])([Object(u["a"])({computed:Object(i["a"])({},Object(l["c"])({userDetail:"root/getLoggedinUser"})),methods:Object(i["a"])({},Object(l["b"])({save:"root/save"}))})],j);var y=j,k=a("1dfe"),w=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showProfieForm=!1,e}return Object(n["a"])(a,[{key:"hasCitizenship",get:function(){return Boolean(this.userDetail.citizenship_front||this.userDetail.citizenship_back)}},{key:"render",value:function(){var e=this,t=arguments[0];return t("main",{attrs:{id:"main"}},[t("section",{class:"item__section"},[this.userDetail.email_verified_at?null:t(m),t("header",{class:"item__section__heading"},[t("h2",{class:"h3"},[this.userDetail.name]),t("a",{attrs:{href:"#"},class:"text--primary",on:{click:function(t){t.preventDefault(),e.showProfieForm=!0}}},["edit"])]),t("div",{class:"user__image"},[this.userDetail.photo?t("img",{attrs:{src:this.userDetail.photo_url,alt:this.userDetail.name}}):t("span",{class:"icon-user"})]),t("dl",{class:"user__detail"},[t("dt",["Email"]),t("dd",[this.userDetail.email]),t("dt",["Address"]),t("dd",[this.userDetail.address]),t("dt",["Phone"]),t("dd",[this.userDetail.phone]),t("dt",["Email Verification"]),t("dd",[t("span",{class:{verified:this.userDetail.email_verified_at}},[this.userDetail.email_verified_at?"verified":"not verified"])]),t("dt",["Date of Join"]),t("dd",[t("time",{attrs:{datetime:d()(this.userDetail.created_at).local().format("YYYY-MM-DD HH:mm:ss")}},[d()(this.userDetail.created_at).local().format("Do [of] MMMM [in] YYYY")])]),this.hasCitizenship?[t("dt",["Documents"]),t("dd",[t("strong",["Citizenship"]),t("div",{class:"image__list"},[this.userDetail.citizenship_front?t("div",{class:"image__holder"},[t("img",{attrs:{src:this.userDetail.citizenship_front_url,alt:this.userDetail.name+"_citizenship_front"}})]):null,this.userDetail.citizenship_back?t("div",{class:"image__holder"},[t("img",{attrs:{src:this.userDetail.citizenship_back_url,alt:this.userDetail.name+"_citizenship_back"}})]):null])])]:null])]),t(k["a"],{model:{value:e.showProfieForm,callback:function(t){e.showProfieForm=t}}},[t(y,{on:{close:function(){return e.showProfieForm=!1}}})])])}}]),a}(u["c"]);w=Object(c["a"])([Object(u["a"])({computed:Object(i["a"])({},Object(l["c"])({userDetail:"root/getLoggedinUser"}))})],w);t["default"]=w},fecd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("1547"),r=a("7531");a.d(t,"b",(function(){return r["b"]})),a.d(t,"c",(function(){return r["c"]}));const n=Object(i["d"])("Camera",{web:()=>a.e("chunk-2d216786").then(a.bind(null,"c333")).then(e=>new e.CameraWeb)})}}]);
//# sourceMappingURL=chunk-ea819e4c.0fac53e3.js.map