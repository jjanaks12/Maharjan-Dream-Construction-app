{"version":3,"sources":["webpack:///./src/components/common/Modal.tsx","webpack:///./src/components/collection/Detail.tsx","webpack:///./src/pages/realState/Detail.tsx","webpack:///./src/core/FormComponent.tsx","webpack:///./src/components/realstate/Services.tsx","webpack:///./src/components/collection/Form.tsx","webpack:///./src/interfaces/appointment.ts","webpack:///./src/components/realstate/Appointment.tsx"],"names":["Modal","props","this","value","document","body","style","overflow","event","preventDefault","$emit","stopPropagation","$slots","default","required","showModal","list","length","fetch","realstate_id","$route","params","id","map","collection","realstate","includes","addToCollection","title","computed","methods","slickOpt","rows","arrows","dots","isLoading","appointment","showCollection","showAvailabilityModal","property","location","rate","unit","excerpt","description","getProperty","checkAppointment","type","REALSTATE","fetchCollection","setTimeout","$refs","propertyDetailSlick","reSlick","Object","keys","status","images","image","image_url","name","detail","FormComponent","errors","reduce","acc","key","message","field","forEach","RealestateService","item","bedroom","bathroom","parking","CollectionForm","isSaving","formData","formSubmitted","resetErrorMessage","then","result","$nextTick","hasError","save","data","errorList","AppointmentStatus","AppointmentType","Appointment","saving","user_id","date","updateUserID","RENT","rent_id","minDate","add","format","maxDate","formSubmit","requestAppointment","user","deep"],"mappings":"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","file":"js/chunk-212395d8.8fa8b40a.js","sourcesContent":["import { VNode } from \"vue\"\r\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\"\r\n\r\n@Component\r\nexport default class Modal extends Vue {\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n    }\r\n\r\n    @Prop({ required: true }) value!: boolean\r\n\r\n    @Watch('value')\r\n    valueChanged() {\r\n        if (this.value)\r\n            document.body.style.overflow = 'hidden'\r\n        else\r\n            document.body.style.overflow = ''\r\n    }\r\n\r\n    render(): VNode {\r\n        return <div class={{ \"modal\": true, \"modal--active\": this.value }} onClick={(event: MouseEvent) => {\r\n            event.preventDefault()\r\n            this.$emit('input', false)\r\n        }}>\r\n            <div class=\"modal__holder\" onClick={(event: MouseEvent) => {\r\n                event.stopPropagation()\r\n            }}>\r\n                <div class=\"modal__body\">\r\n                    {this.$slots.default}\r\n                </div>\r\n                <footer class=\"modal__footer\">\r\n                    <button class=\"btn btn__default btn__xs\" onClick={(event: MouseEvent) => {\r\n                        event.preventDefault()\r\n                        this.$emit('input', false)\r\n                    }}>close</button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import { VNode } from 'vue'\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nimport { iCollection } from '@/interfaces/collection'\r\nimport { iRealState } from '@/interfaces/app'\r\nimport Modal from '../common/Modal'\r\nimport CollectionForm from './Form'\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            list: 'collection/list'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            fetch: 'collection/fetch',\r\n            addToCollection: 'collection/addToCollection'\r\n        })\r\n    }\r\n})\r\nexport default class CollectionDetail extends Vue {\r\n    private showModal: boolean = false\r\n    private list!: Array<iCollection>\r\n    private fetch!: () => Promise<boolean>\r\n    private addToCollection!: (payload: { id: string, realstate_id: string }) => Promise<boolean>\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n    }\r\n\r\n    async mounted() {\r\n        if (this.list && this.list.length === 0) {\r\n            await this.fetch()\r\n        }\r\n    }\r\n\r\n    render(): VNode {\r\n        const realstate_id: string = this.$route.params.id\r\n\r\n        return <div class=\"collection__list\">\r\n            <h2>Available collections</h2>\r\n            {this.list.map((collection: iCollection) => (\r\n                collection.realstate\r\n                    ? !collection.realstate.map((realstate: iRealState) => realstate.id).includes(realstate_id)\r\n                    : true\r\n            ) ? <a class=\"collection__list__item\" href=\"#\" onClick={async (event: MouseEvent) => {\r\n                event.preventDefault()\r\n\r\n                await this.addToCollection({\r\n                    id: collection.id || '',\r\n                    realstate_id: this.$route.params.id\r\n                })\r\n                this.$emit('close')\r\n            }}>\r\n                {collection.title}\r\n            </a>\r\n                : null)\r\n            }\r\n            <a class=\"collection__list__item\" href=\"#\" onClick={(event: MouseEvent) => {\r\n                event.preventDefault()\r\n                this.showModal = true\r\n            }}>Add New Collection</a>\r\n            <Modal v-model={this.showModal}>\r\n                <CollectionForm onClose={() => { this.showModal = false }} />\r\n            </Modal>\r\n        </div>\r\n    }\r\n}","import { VNode } from 'vue'\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { mapActions } from 'vuex'\r\nimport Slick from 'vue-slick'\r\n\r\nimport { iImage, iRealState } from '@/interfaces/app'\r\nimport { appointment, AppointmentType } from '@/interfaces/appointment'\r\n\r\nimport RealestateService from '@/components/realstate/Services'\r\nimport Modal from '@/components/common/Modal'\r\nimport Appointment from '@/components/realstate/Appointment'\r\nimport CollectionDetail from '@/components/collection/Detail'\r\n\r\nconst slickOpt = {\r\n    rows: 0,\r\n    arrows: false,\r\n    dots: true\r\n}\r\n\r\n@Component({\r\n    methods: {\r\n        ...mapActions({\r\n            getProperty: 'realstate/getProperty',\r\n            checkAppointment: 'appointment/checkAppointment',\r\n            fetchCollection: 'collection/fetch',\r\n        })\r\n    }\r\n})\r\nexport default class RealstateDetail extends Vue {\r\n    private isLoading: boolean = false\r\n    private appointment: appointment | null = null\r\n    private showCollection: boolean = false\r\n\r\n    private getProperty!: (id: string) => iRealState\r\n    private checkAppointment!: (payload: { type: string, id: string }) => any\r\n    private fetchCollection!: () => any\r\n    private showAvailabilityModal: boolean = false\r\n    private property: iRealState = {\r\n        location: '',\r\n        rate: '',\r\n        unit: '',\r\n        excerpt: '',\r\n        description: '',\r\n    }\r\n\r\n    async mounted() {\r\n        this.isLoading = true\r\n        const id = this.$route?.params?.id\r\n        this.property = await this.getProperty(id)\r\n        this.appointment = await this.checkAppointment({ type: AppointmentType.REALSTATE, id })\r\n        this.fetchCollection()\r\n\r\n        this.isLoading = false\r\n\r\n        setTimeout(() => {\r\n            (this.$refs?.propertyDetailSlick as any)?.reSlick()\r\n        }, 500)\r\n    }\r\n\r\n    render(): VNode {\r\n        return (<main id=\"main\">\r\n            <section class=\"item__section\">\r\n                <div class=\"item__detail\">\r\n                    {!this.isLoading\r\n                        ? [\r\n                            this.appointment && Object.keys(this.appointment).length > 0\r\n                                ? <div class=\"meta__info\">\r\n                                    <p>Your appointment for this propperty has <span class=\"text--primary\">{this.appointment.status}</span> status. You will soon get updates</p>\r\n                                </div>\r\n                                : null,\r\n                            <div class=\"item__detail__header\">\r\n                                <a href=\"#\" class=\"btn btn__xs btn__success\" onClick={(event: MouseEvent) => {\r\n                                    event.preventDefault()\r\n                                    this.showCollection = true\r\n                                }}>add to collection</a>\r\n                                {!(this.appointment && Object.keys(this.appointment).length > 0)\r\n                                    ? <a href=\"#\" class=\"btn btn__xs btn__primary\" onClick={(event: MouseEvent) => {\r\n                                        event.preventDefault()\r\n                                        this.showAvailabilityModal = true\r\n                                    }}>Request Appointment</a>\r\n                                    : null}\r\n                            </div>,\r\n                            this.property.images\r\n                                ? <Slick class=\"item__detail__image\" options={slickOpt} ref=\"propertyDetailSlick\">\r\n                                    {this.property.images?.map((image: iImage) => (<img src={image.image_url} alt={this.property.name} />))}\r\n                                </Slick>\r\n                                : null,\r\n                            <div class=\"item__detail__description\">\r\n                                <h2>{this.property.location}</h2>\r\n                                <div class=\"text__holder\" domPropsInnerHTML={this.property.description} />\r\n                                {this.property.detail ? (<RealestateService item={this.property.detail} />) : null}\r\n                            </div>\r\n                        ]\r\n                        : null}\r\n                </div>\r\n            </section>\r\n            <Modal v-model={this.showAvailabilityModal}>\r\n                <Appointment onClose={() => { this.showAvailabilityModal = false }} />\r\n            </Modal>\r\n            <Modal v-model={this.showCollection}>\r\n                <CollectionDetail onClose={() => { this.showCollection = false }} />\r\n            </Modal>\r\n        </main>)\r\n    }\r\n}\r\n","import { iErrorMessage } from '@/interfaces/auth'\r\nimport { Component, Vue } from 'vue-property-decorator'\r\n\r\n// let timer: any\r\n@Component\r\nexport default class FormComponent extends Vue {\r\n    protected errors!: iErrorMessage\r\n\r\n    // @Watch('errors', { deep: true })\r\n    // errorWatcher() {\r\n    //     if (timer)\r\n    //         return\r\n\r\n    //     timer = setTimeout(() => {\r\n    //         this.resetErrorMessage()\r\n    //     }, 7000)\r\n    // }\r\n\r\n    /**\r\n    * Checks if there are any errors\r\n    * \r\n    * @returns boolean\r\n    */\r\n    get hasError(): boolean {\r\n        return Object.keys(this.errors).reduce((acc: boolean, key: string): boolean => {\r\n            return acc || this.errors[key].length > 0\r\n        }, false)\r\n    }\r\n\r\n    get errorMessage(): string {\r\n        let message: string = ''\r\n\r\n        for (const field in this.errors) {\r\n            if (this.errors[field].length > 0) {\r\n                message = this.errors[field][0]\r\n                return message\r\n            }\r\n        }\r\n        return message\r\n    }\r\n\r\n    protected resetErrorMessage(): void {\r\n\r\n        Object.keys(this.errors).forEach((key: string) => {\r\n            this.errors[key] = []\r\n        })\r\n    }\r\n}\r\n","import { VNode } from 'vue'\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\n\r\nimport { iService } from '@/interfaces/app'\r\n\r\n@Component\r\nexport default class RealestateService extends Vue {\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n    }\r\n\r\n    @Prop({ required: true }) item!: iService\r\n\r\n    /**\r\n     * @returns VNode\r\n     */\r\n    render(): VNode {\r\n        return (<div class=\"service__list\">\r\n            {this.item?.bedroom ? (<div class=\"service__item\">\r\n                <span class=\"icon-bed\"></span>\r\n                <span class=\"text\">+{this.item?.bedroom}</span>\r\n            </div>) : null}\r\n            {this.item?.bathroom ? (<div class=\"service__item\">\r\n                <span class=\"icon-shower\"></span>\r\n                <span class=\"text\">+{this.item?.bathroom}</span>\r\n            </div>) : null}\r\n            {this.item?.parking ? (<div class=\"service__item\">\r\n                <span class=\"icon-car\"></span>\r\n                <span class=\"text\">+{this.item?.parking}</span>\r\n            </div>) : null}\r\n        </div>)\r\n    }\r\n}\r\n","import { VNode } from 'vue'\r\nimport { Component, Prop } from 'vue-property-decorator'\r\nimport { validate } from 'vee-validate'\r\nimport { mapActions } from 'vuex'\r\n\r\nimport FormComponent from '@/core/FormComponent'\r\nimport { iCollection } from '@/interfaces/collection'\r\nimport { iErrorMessage } from '@/interfaces/auth'\r\n\r\n@Component({\r\n    methods: {\r\n        ...mapActions({\r\n            save: 'collection/save'\r\n        })\r\n    }\r\n})\r\nexport default class CollectionForm extends FormComponent {\r\n    private isSaving: boolean = false\r\n    private errorList?: iErrorMessage\r\n    private save!: (formData: iCollection) => Promise<boolean>\r\n    private formData: iCollection = {\r\n        title: ''\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n\r\n        this.errors = {\r\n            title: []\r\n        }\r\n    }\r\n\r\n    @Prop({ default: null }) detail!: iCollection | null\r\n\r\n    mounted() {\r\n        if (this.detail && Object.keys(this.detail).length > 0) {\r\n            this.formData.id = this.detail.id\r\n            this.formData.title = this.detail.title\r\n        }\r\n    }\r\n\r\n    render(): VNode {\r\n        return <div class=\"collection__form\">\r\n            <h2>Add new Collection</h2>\r\n            <form action=\"#\" onSubmit={this.formSubmitted} novalidate>\r\n                <div class={{ 'form__group': true, 'input--invalid': this.errors.title.length > 0 }}>\r\n                    <label class=\"sr-only\" for=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" placeholder=\"Title of the collection\" v-model={this.formData.title} />\r\n                    {this.errors.title.length > 0 ? (<span class=\"input__text\">{this.errors.title[0]}</span>) : null}\r\n                </div>\r\n                <div class=\"btn__holder\">\r\n                    <div class=\"btn__block\">\r\n                        <button type=\"submit\" class=\"btn btn__primary\">\r\n                            {this.isSaving ? (<span class=\"icon-spinner loading\"></span>) : null}\r\n                            save\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param event \r\n     * HTML Form submit event\r\n     * \r\n     * @returns void\r\n     */\r\n    async formSubmitted(event: HTMLFormElement): Promise<void> {\r\n        event.preventDefault()\r\n        this.resetErrorMessage()\r\n\r\n        await validate(this.formData.title, 'required', { name: 'title' })\r\n            .then(result => {\r\n                this.errors['title'] = result.errors\r\n            })\r\n\r\n        this.$nextTick(async () => {\r\n            if (!this.hasError) {\r\n                this.isSaving = true\r\n\r\n                try {\r\n                    const data = await this.save(this.formData)\r\n\r\n                    if (data) {\r\n                        this.errors = { ...this.errors, ...this.errorList }\r\n                        this.$emit('close')\r\n                    }\r\n\r\n                } finally {\r\n                    this.isSaving = false\r\n                }\r\n            }\r\n        })\r\n    }\r\n}","import { iUserDetail } from './auth'\r\n\r\nexport enum AppointmentStatus {\r\n    REQUESTED = 'requested',\r\n    ACCEPTED = 'accepted',\r\n    REJECTED = 'rejected',\r\n    // DELAYED = 'delayed',\r\n}\r\n\r\nexport interface appointment {\r\n    id?: string\r\n    user_id: string\r\n    realstate_id?: string\r\n    rent_id?: string\r\n    status?: AppointmentStatus\r\n    user?: iUserDetail\r\n    type: AppointmentType\r\n    date: string\r\n}\r\n\r\nexport enum AppointmentType {\r\n    REALSTATE = 'realstate',\r\n    RENT = 'rent'\r\n}","import { VNode } from 'vue'\r\nimport { Component, Prop, Watch } from \"vue-property-decorator\"\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nimport FormComponent from '@/core/FormComponent'\r\nimport { iErrorMessage, iUserDetail } from '@/interfaces/auth'\r\nimport { validate } from 'vee-validate'\r\nimport { appointment, AppointmentType } from '@/interfaces/appointment'\r\nimport moment from 'moment'\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            errorList: 'root/getErrorMessage',\r\n            user: 'root/getLoggedinUser'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            requestAppointment: 'appointment/requestAppointment'\r\n        })\r\n    }\r\n})\r\nexport default class Appointment extends FormComponent {\r\n    private user!: iUserDetail\r\n    private saving: boolean = false\r\n    private errorList?: iErrorMessage\r\n    private requestAppointment!: (formData: appointment) => Promise<boolean>\r\n    private formData: appointment = {\r\n        type: AppointmentType.REALSTATE,\r\n        user_id: '',\r\n        date: ''\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n\r\n        this.errors = {\r\n            date: []\r\n        }\r\n    }\r\n\r\n    @Prop({ default: AppointmentType.REALSTATE }) type!: AppointmentType\r\n\r\n    @Watch('user', { deep: true })\r\n    userChanged() {\r\n        this.updateUserID()\r\n    }\r\n\r\n    mounted() {\r\n        this.updateUserID()\r\n\r\n        this.formData.type = this.type\r\n\r\n        if (this.type == AppointmentType.RENT)\r\n            this.formData.rent_id = this.$route.params.id\r\n        else\r\n            this.formData.realstate_id = this.$route.params.id\r\n    }\r\n\r\n    render(): VNode {\r\n        const minDate: string = moment().add(1, 'day').format('YYYY-MM-DD') + 'T00:00'\r\n        const maxDate: string = moment().add(1, 'month').format('YYYY-MM-DD') + 'T00:00'\r\n\r\n        return <div class=\"appointment\">\r\n            <h2>Get an appointment</h2>\r\n            <p>You can choose a date to vist for Property</p>\r\n            <form action=\"#\" novalidate onSubmit={this.formSubmit}>\r\n                <div class={{ 'form__group': true, 'input--invalid': this.errors.date.length > 0 }}>\r\n                    <label for=\"date\">Choose a date</label>\r\n                    <input type=\"datetime-local\" name=\"date\" id=\"date\" placeholder=\"Choose a date\" max={maxDate} min={minDate} v-model={this.formData.date} />\r\n                    {this.errors.date.length > 0 ? (<span class=\"input__text\">{this.errors.date[0]}</span>) : null}\r\n                </div>\r\n                <div className=\"btn__holder text--right\">\r\n                    <button class=\"btn btn__primary\">Request</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    }\r\n\r\n    async formSubmit(event: HTMLFormElement) {\r\n        event.preventDefault()\r\n\r\n        await validate(this.formData.date, 'required', { name: 'date' })\r\n            .then(result => {\r\n                this.errors['date'] = result.errors\r\n            })\r\n\r\n        this.$nextTick(async () => {\r\n            if (!this.hasError) {\r\n                this.saving = true\r\n\r\n                try {\r\n                    const data = await this.requestAppointment(this.formData)\r\n\r\n                    if (data) {\r\n                        this.$emit('close')\r\n                    } else {\r\n                        this.errors = { ...this.errors, ...this.errorList }\r\n                    }\r\n\r\n                } finally {\r\n                    this.saving = false\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateUserID() {\r\n        if (this.user.id)\r\n            this.formData.user_id = this.user.id\r\n    }\r\n}"],"sourceRoot":""}