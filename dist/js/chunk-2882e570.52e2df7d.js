(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2882e570"],{"7f7e":function(r,s,t){"use strict";var a=t("d4ec"),e=t("bee2"),o=t("262e"),n=t("2caf"),i=(t("d3b7"),t("b64b"),t("159b"),t("9ab4")),c=t("1b40"),d=function(r){Object(o["a"])(t,r);var s=Object(n["a"])(t);function t(){return Object(a["a"])(this,t),s.apply(this,arguments)}return Object(e["a"])(t,[{key:"hasError",get:function(){var r=this;return Object.keys(this.errors).reduce((function(s,t){return s||r.errors[t].length>0}),!1)}},{key:"errorMessage",get:function(){var r="";for(var s in this.errors)if(this.errors[s].length>0)return r=this.errors[s][0],r;return r}},{key:"resetErrorMessage",value:function(){var r=this;Object.keys(this.errors).forEach((function(s){r.errors[s]=[]}))}}]),t}(c["c"]);d=Object(i["a"])([c["a"]],d),s["a"]=d},eb43:function(r,s,t){"use strict";t.r(s);var a=t("5530"),e=t("1da1"),o=t("2638"),n=t.n(o),i=t("d4ec"),c=t("bee2"),d=t("262e"),u=t("2caf"),p=(t("96cf"),t("d3b7"),t("9ab4")),f=t("1b40"),m=t("7bb1"),l=t("2f62"),w=t("7f7e"),h=function(r){Object(d["a"])(t,r);var s=Object(u["a"])(t);function t(r){var a;return Object(i["a"])(this,t),a=s.call(this,r),a.isSaving=!1,a.formData={old_password:"",password:"",password_confirmation:""},a.errors={old_password:[],password:[],password_confirmation:[]},a}return Object(c["a"])(t,[{key:"render",value:function(){var r=this,s=arguments[0];return s("main",{attrs:{id:"main"}},[s("section",{class:"item__section"},[s("header",{class:"item__section__heading"},[s("h2",["Change Password"])]),s("form",{attrs:{action:"#",novalidate:!0},class:"change__password__form",on:{submit:this.formSubmitted}},[s("div",{class:"form__group"},[s("label",{attrs:{for:"old_password"}},["Old Password"]),s("input",n()([{on:{input:function(s){s.target.composing||r.$set(r.formData,"old_password",s.target.value)}},attrs:{type:"password",name:"old_password",id:"old_password"},domProps:{value:r.formData.old_password}},{directives:[{name:"model",value:r.formData.old_password,modifiers:{}}]}])),this.errors.old_password.length>0?s("span",{class:"input__text"},[this.errors.old_password[0]]):null]),s("div",{class:"form__group"},[s("label",{attrs:{for:"new_password"}},["New Password"]),s("input",n()([{on:{input:function(s){s.target.composing||r.$set(r.formData,"password",s.target.value)}},attrs:{type:"password",name:"new_password",id:"new_password"},domProps:{value:r.formData.password}},{directives:[{name:"model",value:r.formData.password,modifiers:{}}]}])),this.errors.password.length>0?s("span",{class:"input__text"},[this.errors.password[0]]):null]),s("div",{class:"form__group"},[s("label",{attrs:{for:"confirm_password"}},["Confirm New Password"]),s("input",n()([{on:{input:function(s){s.target.composing||r.$set(r.formData,"password_confirmation",s.target.value)}},attrs:{type:"password",name:"confirm_password",id:"confirm_password"},domProps:{value:r.formData.password_confirmation}},{directives:[{name:"model",value:r.formData.password_confirmation,modifiers:{}}]}])),this.errors.password_confirmation.length>0?s("span",{class:"input__text"},[this.errors.password_confirmation[0]]):null]),s("div",{class:"btn__holder"},[s("div",{class:"btn__block"},[s("button",{attrs:{type:"submit"},class:"btn btn__primary"},[this.isSaving?s("span",{class:"icon-spinner loading"}):null,"Save"])])])])])])}},{key:"formSubmitted",value:function(){var r=Object(e["a"])(regeneratorRuntime.mark((function r(s){var t=this;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s.preventDefault(),this.resetErrorMessage(),r.next=4,Object(m["b"])(this.formData.old_password,"required|min:6",{name:"email"}).then((function(r){t.errors["old_password"]=r.errors}));case 4:return r.next=6,Object(m["b"])(this.formData.password,"required|min:6|confirmed:confirmation",{name:"password",values:{confirmation:this.formData.password_confirmation}}).then((function(r){t.errors["password"]=r.errors}));case 6:return r.next=8,Object(m["b"])(this.formData.password_confirmation,"required|min:6",{name:"password"}).then((function(r){t.errors["password_confirmation"]=r.errors}));case 8:this.$nextTick((function(){!t.hasError&&t.userDetail.uuid&&(t.isSaving=!0,t.changePassword(Object(a["a"])({id:t.userDetail.uuid},t.formData)).then((function(){t.$router.push({name:"account"})})).finally((function(){t.isSaving=!1})))}));case 9:case"end":return r.stop()}}),r,this)})));function s(s){return r.apply(this,arguments)}return s}()}]),t}(w["a"]);h=Object(p["a"])([Object(f["a"])({computed:Object(a["a"])({},Object(l["c"])({userDetail:"root/getLoggedinUser"})),methods:Object(a["a"])({},Object(l["b"])({changePassword:"root/changePassword"}))})],h),s["default"]=h}}]);
//# sourceMappingURL=chunk-2882e570.52e2df7d.js.map