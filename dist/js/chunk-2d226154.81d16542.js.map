{"version":3,"sources":["webpack:///./src/pages/material/Detail.tsx"],"names":["slickOpt","rows","arrows","dots","MaterialDetail","material","name","description","material_category_id","measurement_unit","price","quantity","this","checkRoute","Boolean","cartList","find","cart","id","isOnCart","event","preventDefault","$router","go","isLoggedIn","addToCart","images","length","map","image","image_url","$route","params","getMaterial","setTimeout","$refs","materialDetailSlick","reSlick","Vue","__decorate","Watch","deep","Component","computed","mapGetters","methods","mapActions","mapMutations"],"mappings":"2TAQMA,EAAW,CACbC,KAAM,EACNC,QAAQ,EACRC,MAAM,GAmBWC,EAAc,wDAAnC,iD,0BAOY,EAAAC,SAAsB,CAC1BC,KAAM,GACNC,YAAa,GACbC,qBAAsB,GACtBC,iBAAkB,GAClBC,MAAO,EACPC,SAAU,IAblB,EAAmC,mDAiB/B,WACIC,KAAKC,eAlBsB,qBAqB/B,WACID,KAAKC,eAtBsB,oBAyB/B,WAAY,WACR,OAAOC,QAAQF,KAAKG,SAASC,MAAK,SAACC,GAAD,OAAiBA,EAAKZ,SAASa,KAAO,EAAKb,SAASa,SA1B3D,oBA6B/B,WAAM,4BACF,2BAAgB,SAAhB,oBACmB,iBADnB,CAEUN,KAAKO,SAAN,kBAcmB,0BAdnB,gBAekB,gBAflB,oBAiBmB,KAjBnB,UAiBgC,SAACC,GAClBA,EAAMC,iBACN,EAAKC,QAAQC,IAAI,KAnBhC,MAoBoB,QApBpB,iBAoBuC,4BApBvC,kBACmB,0BADnB,gBAEkB,eAFlB,CAGaX,KAAKY,WAAN,mBAEa,KAFb,MAEuB,2BAFvB,UAE2D,SAACJ,GAAwBA,EAAMC,iBAAkB,EAAKI,UAAU,EAAKpB,aAFhI,iBACK,KAJjB,mBAQmB,KARnB,UAQgC,SAACe,GAClBA,EAAMC,iBACN,EAAKC,QAAQC,IAAI,KAVhC,MAWoB,iBAXpB,iBAWgD,4BAbzD,eAyBmB,gBAzBnB,CA0BaX,KAAKP,SAASqB,QAAUd,KAAKP,SAASqB,OAAOC,OAAS,EAAtD,gBACkB,sBADlB,eACiD3B,GADjD,IAC+D,uBAD/D,WAEQY,KAAKP,SAASqB,cAFtB,aAEQ,EAAsBE,KAAI,SAACC,GAAD,2BAA8BA,EAAMC,UAApC,IAAoD,EAAKzB,SAASC,aAE/F,KA9BlB,eA+BuB,6BA/BvB,SAgCqBM,KAAKP,SAASC,OAhCnC,eAiC2B,eAjC3B,oBAiC6DM,KAAKP,SAASE,yBA/DhD,iFAsE/B,sHACUW,EADV,UACeN,KAAKmB,cADpB,iBACe,EAAaC,cAD5B,aACe,EAAqBd,GADpC,SAE0BN,KAAKqB,YAAYf,GAF3C,OAEIN,KAAKP,SAFT,OAII6B,YAAW,WAAK,QACX,YAAKC,aAAL,mBAAYC,2BAAZ,SAAyCC,YAC3C,KANP,gDAtE+B,8DAASC,QAiBxCC,gBADCC,eAAM,SAAU,CAAEC,MAAM,KACzB,iCAjBiBrC,EAAc,gBAhBlCsC,eAAU,CACPC,SAAU,kBACHC,eAAW,CACV7B,SAAU,eACVS,WAAY,qBAGpBqB,QAAS,iCACFC,eAAW,CACVb,YAAa,0BAEdc,eAAa,CACZtB,UAAW,yBAIFrB","file":"js/chunk-2d226154.81d16542.js","sourcesContent":["import { VNode } from 'vue'\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\nimport Slick from 'vue-slick'\n\nimport { iCart } from '@/interfaces/cart'\nimport { iImage, iMaterial } from '@/interfaces/app'\n\nconst slickOpt = {\n    rows: 0,\n    arrows: false,\n    dots: true\n}\n\n@Component({\n    computed: {\n        ...mapGetters({\n            cartList: 'cart/getList',\n            isLoggedIn: 'root/isLoggedIn'\n        })\n    },\n    methods: {\n        ...mapActions({\n            getMaterial: 'material/getMaterial',\n        }),\n        ...mapMutations({\n            addToCart: 'cart/ADD_TO_CART'\n        })\n    }\n})\nexport default class MaterialDetail extends Vue {\n    private isLoggedIn!: boolean\n\n    private getMaterial!: (id: string) => iMaterial\n    private addToCart!: (item: iMaterial) => Promise<boolean>\n    private cartList!: Array<iCart>\n\n    private material: iMaterial = {\n        name: '',\n        description: '',\n        material_category_id: '',\n        measurement_unit: '',\n        price: 0,\n        quantity: ''\n    }\n\n    @Watch('$route', { deep: true })\n    routeWatcher() {\n        this.checkRoute()\n    }\n\n    mounted() {\n        this.checkRoute()\n    }\n\n    get isOnCart(): boolean {\n        return Boolean(this.cartList.find((cart: iCart) => cart.material.id === this.material.id))\n    }\n\n    render(): VNode {\n        return <main id=\"main\">\n            <section class=\"item__section\">\n                {!this.isOnCart\n                    ? <header class=\"item__section__heading\">\n                        <div class=\"btn__holder\">\n                            {!this.isLoggedIn\n                                ? null\n                                : <a href=\"#\" class=\"btn btn__xs btn__primary\" onClick={(event: MouseEvent) => { event.preventDefault(); this.addToCart(this.material) }}>add to cart</a>\n                            }\n                            {/* Back to detail Page */}\n                            <a href=\"#\" onClick={(event: MouseEvent) => {\n                                event.preventDefault()\n                                this.$router.go(-1)\n                            }} class=\"btn btn__icon\"><span class=\"icon-d-arrow-left\"></span></a>\n                        </div>\n                    </header>\n                    : <header class=\"item__section__heading\">\n                        <div class=\"item__action\">\n                            {/* Back to detail Page */}\n                            <a href=\"#\" onClick={(event: MouseEvent) => {\n                                event.preventDefault()\n                                this.$router.go(-1)\n                            }} class=\"back\"><span class=\"icon-d-arrow-left\"></span></a>\n                        </div>\n                    </header>}\n                <div class=\"item__detail\">\n                    {this.material.images && this.material.images.length > 0\n                        ? <Slick class=\"item__detail__image\" options={slickOpt} ref=\"materialDetailSlick\">\n                            {this.material.images?.map((image: iImage) => (<img src={image.image_url} alt={this.material.name} />))}\n                        </Slick>\n                        : null}\n                    <div class=\"item__detail__description\">\n                        <h2>{this.material.name}</h2>\n                        <div class=\"text__holder\" domPropsInnerHTML={this.material.description} />\n                    </div>\n                </div>\n            </section>\n        </main>\n    }\n\n    async checkRoute() {\n        const id = this.$route?.params?.id\n        this.material = await this.getMaterial(id)\n\n        setTimeout(() => {\n            (this.$refs?.materialDetailSlick as any)?.reSlick()\n        }, 500)\n    }\n}\n"],"sourceRoot":""}